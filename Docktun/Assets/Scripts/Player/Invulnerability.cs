using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Invulnerability : MonoBehaviour
{
    [SerializeField] GameObject playerModel; // Model to blink while invulnerable
    [SerializeField] float invulnerabilityTime = 1.5f;
    bool invulnerable = false;       

    public void StartInvulnerability()
    {
        StartCoroutine(InvulnerabilityCoroutine());
    }
    public bool getInvulnerable()
    {
        return invulnerable;
    }
    private IEnumerator InvulnerabilityCoroutine()
    {
        float startTime = Time.time;

        invulnerable = true;

        while (Time.time < startTime + invulnerabilityTime)
        {
            for (int i = 0; i < 5; ++i)
            {
                playerModel.SetActive(false);
                yield return new WaitForSeconds(0.1f);
                playerModel.SetActive(true);
                yield return new WaitForSeconds(0.1f);
            }
            yield return null;
        }

        invulnerable = false;
    }
}
